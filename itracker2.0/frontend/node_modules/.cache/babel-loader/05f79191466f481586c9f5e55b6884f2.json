{"ast":null,"code":"import React from \"react\";\nimport UploadFile from \"./uploadfile\";\n/*\r\nFunction is use\r\n-Update the strapi \r\n-call decentralizedAPI(Post end point)\r\n-\r\n */\n\nconst UpdateStrapi = async (updateType, updateFileName) => {\n  //console.log(updateType)\n  let updateCid = await UploadFile(updateFileName); //web3 api call here\n\n  let updateCidEdited = updateCid + \".txt\";\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  var raw = JSON.stringify({\n    data: {\n      fileID: \"D\",\n      cid: updateCid,\n      name: updateFileName + \".txt\",\n      type: updateType\n    }\n  });\n  var requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n  console.log(\"from updatestrapi\");\n  console.log(raw);\n  let resultt = await fetch(\"http://localhost:1337/api/fileinfos\", requestOptions).then(x => x.json()).catch(console.log(Error));\n  console.log(resultt);\n};\n\n_c = UpdateStrapi;\nexport default UpdateStrapi;\n/*{ working post method \r\n    \"data\": {        \r\n         \r\n            \"fileID\": \"fourth file ID \",\r\n            \"cid\": \"bafybeiacs6qaawbgrwq26zzno2lpoor3nzzmjyo5b4f2ejbjfdp5n2of74\",\r\n            \"name\": \"file3.json\",\r\n            \"type\": \"invest\"\r\n          \r\n        \r\n    }\r\n    \r\n} */\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateStrapi\");","map":{"version":3,"names":["React","UploadFile","UpdateStrapi","updateType","updateFileName","updateCid","updateCidEdited","myHeaders","Headers","append","raw","JSON","stringify","data","fileID","cid","name","type","requestOptions","method","headers","body","redirect","console","log","resultt","fetch","then","x","json","catch","Error"],"sources":["C:/KTlearning/react-app/7/gradprj/itracker2.0/frontend/src/logic/updateStrapi.js"],"sourcesContent":["import React from \"react\";\r\nimport UploadFile from \"./uploadfile\";\r\n\r\n/*\r\nFunction is use\r\n-Update the strapi \r\n-call decentralizedAPI(Post end point)\r\n-\r\n */\r\nconst UpdateStrapi = async (updateType, updateFileName) => {\r\n  //console.log(updateType)\r\n\r\n  let updateCid = await UploadFile(updateFileName); //web3 api call here\r\n  let updateCidEdited = updateCid+ \".txt\";\r\n  var myHeaders = new Headers();\r\n  myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n  var raw = JSON.stringify({\r\n    data: {\r\n      fileID: \"D\",\r\n      cid: updateCid ,\r\n      name: updateFileName+\".txt\",\r\n      type: updateType,\r\n    },\r\n  });\r\n  var requestOptions = {\r\n    method: \"POST\",\r\n    headers: myHeaders,\r\n    body: raw,\r\n    redirect: \"follow\",\r\n  };\r\n  console.log(\"from updatestrapi\");\r\n  console.log(raw);\r\n\r\n  let resultt = await fetch(\r\n    \"http://localhost:1337/api/fileinfos\",\r\n    requestOptions\r\n  )\r\n    .then((x) => x.json())\r\n    .catch(console.log(Error));\r\n  console.log(resultt);\r\n};\r\n\r\nexport default UpdateStrapi;\r\n\r\n/*{ working post method \r\n    \"data\": {        \r\n         \r\n            \"fileID\": \"fourth file ID \",\r\n            \"cid\": \"bafybeiacs6qaawbgrwq26zzno2lpoor3nzzmjyo5b4f2ejbjfdp5n2of74\",\r\n            \"name\": \"file3.json\",\r\n            \"type\": \"invest\"\r\n          \r\n        \r\n    }\r\n    \r\n} */\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,YAAY,GAAG,OAAOC,UAAP,EAAmBC,cAAnB,KAAsC;EACzD;EAEA,IAAIC,SAAS,GAAG,MAAMJ,UAAU,CAACG,cAAD,CAAhC,CAHyD,CAGP;;EAClD,IAAIE,eAAe,GAAGD,SAAS,GAAE,MAAjC;EACA,IAAIE,SAAS,GAAG,IAAIC,OAAJ,EAAhB;EACAD,SAAS,CAACE,MAAV,CAAiB,cAAjB,EAAiC,kBAAjC;EAEA,IAAIC,GAAG,GAAGC,IAAI,CAACC,SAAL,CAAe;IACvBC,IAAI,EAAE;MACJC,MAAM,EAAE,GADJ;MAEJC,GAAG,EAAEV,SAFD;MAGJW,IAAI,EAAEZ,cAAc,GAAC,MAHjB;MAIJa,IAAI,EAAEd;IAJF;EADiB,CAAf,CAAV;EAQA,IAAIe,cAAc,GAAG;IACnBC,MAAM,EAAE,MADW;IAEnBC,OAAO,EAAEb,SAFU;IAGnBc,IAAI,EAAEX,GAHa;IAInBY,QAAQ,EAAE;EAJS,CAArB;EAMAC,OAAO,CAACC,GAAR,CAAY,mBAAZ;EACAD,OAAO,CAACC,GAAR,CAAYd,GAAZ;EAEA,IAAIe,OAAO,GAAG,MAAMC,KAAK,CACvB,qCADuB,EAEvBR,cAFuB,CAAL,CAIjBS,IAJiB,CAIXC,CAAD,IAAOA,CAAC,CAACC,IAAF,EAJK,EAKjBC,KALiB,CAKXP,OAAO,CAACC,GAAR,CAAYO,KAAZ,CALW,CAApB;EAMAR,OAAO,CAACC,GAAR,CAAYC,OAAZ;AACD,CAhCD;;KAAMvB,Y;AAkCN,eAAeA,YAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}